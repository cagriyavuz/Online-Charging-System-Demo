<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>signUp</title>
    <link rel="stylesheet" href="../public/main.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>

<body>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <style>
        body {
            background: rgb(201, 247, 247);
            background: linear-gradient(90deg, rgba(201, 247, 247, 1) 0%, rgba(148, 223, 226, 1) 29%, rgba(97, 206, 209, 1) 48%, rgb(35, 167, 167) 70%);
        }
        
        label {
            color: white;
        }
        
        .content {
            position: relative;
            margin: 35px;
            display: flex;
            justify-content: center;
        }
    </style>
    <h1 class="text-center mt-5 text-white">CIGARCELL</h1>
    <div className="App" class="d-flex justify-content-center align-items-center container">
        <div class="form-card">
            <form method="POST" action="/api/signUp">
                <div className="name" class="form-group text-center mt-2">
                    <label for="name"> First Name </label>
                    <input name="name" type="text" id="name" placeholder="First Name" class="form-control form-control-sm" required/>
                </div>
                <div className="surname" class="form-group text-center mt-3">
                    <label for="surname"> Last Name </label>
                    <input type="text" name="surname" id="surname" placeholder="Last Name" class="form-control form-control-sm" required/>
                </div>
                <div className="phoneNumber" class="form-group text-center mt-3">
                    <label for="phoneNumber"> Phone Number </label>
                    <input name="MSISDN" type="text" id="MSISDN" placeholder="Phone Number" class="form-control form-control-sm" required/>
                </div>
                <div className="email" class="form-group text-center mt-3">
                    <label for="email"> Email </label>
                    <input type="email" id="email" name="email" placeholder="Email" class="form-control form-control-sm" required/>
                </div>
                <div className="password" class="form-group text-center mt-3">
                    <label for="password"> Password </label>
                    <input type="password" id="password" placeholder="Password" name="password" class="form-control form-control-sm" required />
                </div>
                <select name="package" id="package" class="form-select mt-3 mb-3"></select>
                <div class="footer">
                    <button type="button" class="btn btn-dark btn-lg" onclick="location.href= 'signIn' ">Sign In</button>
                    <button type="submit" class="btn btn-dark btn-lg"> Register </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        let deneme = false;
        const veriYazdirma = (data) => {
            let packages = document.getElementById('package');
            data.forEach(element => {
                let option = document.createElement('option');
                option.value = element.packId;
                option.text = element.pack_name
                packages.appendChild(option);
            });
        }

        function getPackages() {

            fetch('/getPackages')
                .then(response => response.json())
                .then((son) => {
                    console.log(son);
                    veriYazdirma(son)
                })
        }
        getPackages()
    </script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>

</body>

</html>